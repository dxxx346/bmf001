# Environment Variables Template for Production Deployment
# Copy this file to .env.local for development or configure in Vercel for production

# ========================================
# APPLICATION ENVIRONMENT
# ========================================
NODE_ENV=production
VERCEL_ENV=production
NEXT_PUBLIC_APP_NAME="BMF001 Digital Marketplace"
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_APP_VERSION=1.0.0

# ========================================
# SUPABASE CONFIGURATION
# ========================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret
SUPABASE_DB_PASSWORD=your-db-password

# Database connection pooling
SUPABASE_DB_HOST=your-project-ref.supabase.co
SUPABASE_DB_PORT=5432
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres
DATABASE_URL=postgresql://postgres:your-password@host:5432/postgres

# Connection pool settings
DB_POOL_SIZE=20
DB_POOL_TIMEOUT=30000
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=20000

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_USERNAME=your-redis-username
REDIS_DB=0
REDIS_TLS=true
REDIS_MAX_MEMORY=512mb
REDIS_MAX_CONNECTIONS=100

# Redis cluster (if using cluster mode)
REDIS_CLUSTER_NODES=host1:6379,host2:6379,host3:6379

# ========================================
# PAYMENT PROVIDERS
# ========================================
# Stripe
STRIPE_PUBLISHABLE_KEY=pk_live_your-publishable-key
STRIPE_SECRET_KEY=sk_live_your-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PRICE_ID=price_your-price-id

# YooKassa
YOOKASSA_SHOP_ID=your-shop-id
YOOKASSA_SECRET_KEY=your-secret-key
YOOKASSA_WEBHOOK_SECRET=your-webhook-secret

# Cryptocurrency
CRYPTO_API_KEY=your-crypto-api-key
CRYPTO_WEBHOOK_SECRET=your-webhook-secret

# ========================================
# SECURITY KEYS
# ========================================
NEXTAUTH_SECRET=your-nextauth-secret-key-32-chars-minimum
NEXTAUTH_URL=https://yourdomain.com
JWT_SECRET=your-jwt-secret-key-64-chars-minimum
ENCRYPTION_KEY=your-encryption-key-32-chars-minimum
API_SECRET_KEY=your-api-secret-key

# ========================================
# MONITORING & LOGGING
# ========================================
# Sentry
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ORG=your-org
SENTRY_PROJECT=your-project
SENTRY_AUTH_TOKEN=your-auth-token

# Datadog (optional)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# New Relic (optional)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=bmf001-marketplace

# ========================================
# CDN & STORAGE
# ========================================
# Cloudflare
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-zone-id
CLOUDFLARE_ACCOUNT_ID=your-account-id

# AWS S3 (for backups)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-backup-bucket

# ========================================
# EMAIL SERVICE
# ========================================
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password
FROM_EMAIL=noreply@yourdomain.com

# SendGrid (alternative)
SENDGRID_API_KEY=your-sendgrid-api-key

# Resend (alternative)
RESEND_API_KEY=your-resend-api-key

# ========================================
# NOTIFICATION SERVICES
# ========================================
# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890

# Push Notifications (Firebase Cloud Messaging)
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"your-project"}
FIREBASE_PROJECT_ID=your-firebase-project-id

# WebSocket Configuration
WEBSOCKET_CORS_ORIGIN=https://yourdomain.com
WEBSOCKET_PING_TIMEOUT=60000
WEBSOCKET_PING_INTERVAL=25000

# Notification Rate Limiting
NOTIFICATION_RATE_LIMIT_EMAIL=50
NOTIFICATION_RATE_LIMIT_SMS=10
NOTIFICATION_RATE_LIMIT_PUSH=100
NOTIFICATION_RATE_LIMIT_WINDOW=3600

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_ANALYTICS=true
ENABLE_LOGGING=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_WEBHOOKS=true
MAINTENANCE_MODE=false

# ========================================
# EXTERNAL SERVICES
# ========================================
# ClickHouse (for analytics)
CLICKHOUSE_HOST=your-clickhouse-host.com
CLICKHOUSE_PORT=8443
CLICKHOUSE_USER=your-clickhouse-user
CLICKHOUSE_PASSWORD=your-clickhouse-password
CLICKHOUSE_DATABASE=bmf001_analytics

# Google Cloud (for BigQuery)
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_KEY_FILE=path/to/service-account.json

# ========================================
# CORS & SECURITY
# ========================================
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://admin.yourdomain.com
CORS_CREDENTIALS=true
CSP_REPORT_URI=https://yourdomain.com/api/csp-report

# ========================================
# BACKUP & DISASTER RECOVERY
# ========================================
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
DISASTER_RECOVERY_REGION=us-west-2

# ========================================
# ON-CALL & ALERTS
# ========================================
# PagerDuty
PAGERDUTY_API_KEY=your-pagerduty-api-key
PAGERDUTY_SERVICE_ID=your-service-id

# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
SLACK_CHANNEL=#alerts

# Discord (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/webhook

# ========================================
# DEVELOPMENT/DEBUG (remove in production)
# ========================================
# DEBUG=false
# NEXT_PUBLIC_DEBUG=false
# LOG_LEVEL=error
